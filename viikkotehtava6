#include <iostream>
#include <vector>
#include <algorithm>    
#include <string>       

using namespace std;

class Student {
private:
    string name;
    int age;

public:
    Student(string n = "", int a = 0) : name(n), age(a) {}

    string getName() const { return name; }
    int getAge() const { return age; }

    void printStudentInfo() const {
        cout << "Name: " << name << ", Age: " << age << endl;
    }
};

int main()
{
    int selection = 0;
    vector<Student> studentList;

    do
    {
        cout << endl;
        cout << "Select" << endl;
        cout << "Add students = 0" << endl;
        cout << "Print all students = 1" << endl;
        cout << "Sort and print students according to Name = 2" << endl;
        cout << "Sort and print students according to Age = 3" << endl;
        cout << "Find and print student = 4" << endl;
        cout << "Your choice: ";
        cin >> selection;

        cin.ignore(1000, '\n');

        switch (selection)
        {
            case 0:
            {
                string nimi;
                int ika;

                cout << "Student name: ";
                getline(cin, nimi);

                cout << "Student age: ";
                cin >> ika;
                cin.ignore(1000, '\n');

                studentList.push_back(Student(nimi, ika));
                cout << "Student " << nimi << " added." << endl;
                break;
            }

            case 1:
            {
                if (studentList.empty()) {
                    cout << "No students in the list." << endl;
                } else {
                    cout << "All students:" << endl;
                    for (const auto& student : studentList) {
                        student.printStudentInfo();
                    }
                }
                break;
            }

            case 2:
            {
                sort(studentList.begin(), studentList.end(),
                    [](const Student& a, const Student& b) {
                        return a.getName() < b.getName();
                    });

                cout << "Students sorted by name:" << endl;
                for (const auto& student : studentList) {
                    student.printStudentInfo();
                }
                break;
            }

            case 3:
            {
                sort(studentList.begin(), studentList.end(),
                    [](const Student& a, const Student& b) {
                        return a.getAge() < b.getAge();
                    });

                cout << "Students sorted by age:" << endl;
                for (const auto& student : studentList) {
                    student.printStudentInfo();
                }
                break;
            }

            case 4:
            {
                string searchName;
                cout << "Student name to find: ";
                getline(cin, searchName);

                auto it = find_if(studentList.begin(), studentList.end(),
                    [&searchName](const Student& s) {
                        return s.getName() == searchName;
                    });

                if (it != studentList.end()) {
                    cout << "Student found:" << endl;
                    it->printStudentInfo();
                } else {
                    cout << "Student with name '" << searchName << "' not found." << endl;
                }
                break;
            }

            default:
                cout << "Wrong selection, stopping..." << endl;
                break;
        }
    } while (selection >= 0 && selection <= 4);

    return 0;
}
